<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Contacto - CinePlus</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../css/style.css" />
  </head>
  <body data-bs-theme="dark">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="../index.html">JBFlix</a>
        <div class="collapse navbar-collapse">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item"><a class="nav-link" href="../index.html">Inicio</a></li>
            <li class="nav-item"><a class="nav-link active" href="contacto.html">Contacto</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container py-5">
      <h2 class="mb-4">Contáctanos</h2>
      <form id="form-contacto" class="needs-validation" novalidate>
        <div class="mb-3">
          <label for="nombre" class="form-label">Nombre</label>
          <input type="text" class="form-control" id="nombre" required />
          <div class="invalid-feedback">Por favor, ingresa tu nombre.</div>
        </div>
        <div class="mb-3">
          <label for="correo" class="form-label">Correo electrónico</label>
          <input type="email" class="form-control" id="correo" required />
          <div class="invalid-feedback">Por favor, ingresa un correo electrónico válido.</div>
        </div>
        <div class="mb-3">
          <label for="mensaje" class="form-label">Mensaje</label>
          <textarea class="form-control" id="mensaje" rows="4" required minlength="20" maxlength="50"></textarea>
          <div class="invalid-feedback" id="mensaje-error"></div>
        </div>
        <button type="submit" class="btn btn-primary">Enviar</button>
        <div id="alerta" class="alert alert-success mt-3 d-none">Mensaje enviado con éxito.</div>
      </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
      $("#form-contacto").on("submit", function (e) {
        e.preventDefault();
        e.stopPropagation();

        let form = this;
        let mensajeInput = $("#mensaje");
        let mensajeError = $("#mensaje-error");
        mensajeInput.removeClass("is-invalid");

        if (mensajeInput.val().length < 20 || mensajeInput.val().length > 50) {
          mensajeError.text("El mensaje debe tener entre 20 y 50 caracteres.");
          mensajeInput.addClass("is-invalid");
        } else if (form.checkValidity()) {
          $("#alerta").removeClass("d-none").hide().fadeIn();
          setTimeout(() => $("#alerta").fadeOut(), 3000);
          form.reset();
          $(form).removeClass("was-validated");
        }

        $(form).addClass("was-validated");
      });
    </script>
  </body>
</html>
